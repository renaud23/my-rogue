export const WALL_CODES = {
  NORTH: 1,
  SOUTH: 2,
  EAST: 3,
  WEST: 4,
  SOUTH_WEST: 5,
  SOUTH_EAST: 6,
  NORTH_EAST: 7,
  NORTH_WEST: 8,
};

const NORTH_PATTERNS = [0b111111000, 0b111111100, 0b111111001];
const SOUTH_PATTERNS = [0b000111111, 0b100111111, 0b001111111];
const EAST_PATTERNS = [
  0b011011011,
  0b111011011,
  0b011011111,
  0b000011011,
  0b011011000,
];
const WEST_PATTERNS = [
  0b110110110,
  0b111110110,
  0b110110111,
  0b000110110,
  0b110110000,
];
const SOUTH_WEST_PATTERNS = [0b011111111];
const SOUTH_EAST_PATTERNS = [0b110111111];
const NORTH_WEST_PATTERNS = [0b111111110];
const NORTH_EAST_PATTERNS = [0b111111011];

function mergeIt(patterns, code) {
  return patterns.reduce(function (a, p) {
    return { ...a, [p]: code };
  }, {});
}

const PATTERN_TO_CODE = {
  ...mergeIt(NORTH_PATTERNS, WALL_CODES.NORTH),
  ...mergeIt(SOUTH_PATTERNS, WALL_CODES.SOUTH),
  ...mergeIt(EAST_PATTERNS, WALL_CODES.EAST),
  ...mergeIt(WEST_PATTERNS, WALL_CODES.WEST),
  ...mergeIt(SOUTH_WEST_PATTERNS, WALL_CODES.SOUTH_WEST),
  ...mergeIt(SOUTH_EAST_PATTERNS, WALL_CODES.SOUTH_EAST),
  ...mergeIt(NORTH_WEST_PATTERNS, WALL_CODES.NORTH_WEST),
  ...mergeIt(NORTH_EAST_PATTERNS, WALL_CODES.NORTH_EAST),
};

export function getWallCode(pattern) {
  if (pattern in PATTERN_TO_CODE) {
    return PATTERN_TO_CODE[pattern];
  }
  return undefined;
}
