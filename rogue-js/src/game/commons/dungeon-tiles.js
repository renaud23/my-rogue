function mergeIt(patterns, code) {
  return patterns.reduce(function (a, p) {
    return { ...a, [p]: code };
  }, {});
}

export const WALL_CODES = {
  NORTH_OR_SOUTH: 1,
  EAST: 2,
  WEST: 3,
  CORNER_WEST: 4,
  CORNER_EAST: 5,
  PILAR_WEST: 6,
  PILAR_EAST: 7,
};

const NORTH_OR_SOUTH_PATTERNS = [
  0b111111000,
  0b000111111,
  0b101111111,
  0b111111100,
  0b111111001,
  0b001111111,
  0b100111111,
  0b110110000,
  0b011011000,
  0b011011001,
  0b111110000,

  0b000111000,
];
const WEST_PATTERNS = [0b110110110, 0b111110110, 0b111111110, 0b110110111];
const EAST_PATTERNS = [0b011011011, 0b111011011, 0b111111011, 0b011011111];
const CORNER_WEST_PATTERNS = [0b000110110, 0b000110111];
const CORNER_EAST_PATTERNS = [0b000011011, 0b000011111];
const PILAR_EAST_PATTERNS = [0b011111111];
const PILAR_WEST_PATTERNS = [0b110111111];

const PATTERN_TO_CODE = {
  ...mergeIt(NORTH_OR_SOUTH_PATTERNS, WALL_CODES.NORTH_OR_SOUTH),
  ...mergeIt(WEST_PATTERNS, WALL_CODES.WEST),
  ...mergeIt(EAST_PATTERNS, WALL_CODES.EAST),
  ...mergeIt(CORNER_WEST_PATTERNS, WALL_CODES.CORNER_WEST),
  ...mergeIt(CORNER_EAST_PATTERNS, WALL_CODES.CORNER_EAST),
  ...mergeIt(PILAR_WEST_PATTERNS, WALL_CODES.PILAR_WEST),
  ...mergeIt(PILAR_EAST_PATTERNS, WALL_CODES.PILAR_EAST),
  // ...mergeIt(NORTH_PATTERNS, WALL_CODES.NORTH),
  // ...mergeIt(SOUTH_PATTERNS, WALL_CODES.SOUTH),
  // ...mergeIt(EAST_PATTERNS, WALL_CODES.EAST),
  // ...mergeIt(WEST_PATTERNS, WALL_CODES.WEST),
  // ...mergeIt(SOUTH_WEST_PATTERNS, WALL_CODES.SOUTH_WEST),
  // ...mergeIt(SOUTH_EAST_PATTERNS, WALL_CODES.SOUTH_EAST),
  // ...mergeIt(NORTH_WEST_PATTERNS, WALL_CODES.NORTH_WEST),
  // ...mergeIt(NORTH_EAST_PATTERNS, WALL_CODES.NORTH_EAST),
};

export function getWallCode(pattern) {
  if (pattern in PATTERN_TO_CODE) {
    return PATTERN_TO_CODE[pattern];
  }
  return undefined;
}
